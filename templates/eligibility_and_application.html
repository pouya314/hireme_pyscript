{% extends "base.html" %}

{% block head_block %}
    {{ super() }}
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.7.1/core.css">
    <script type="module" src="https://pyscript.net/releases/2024.7.1/core.js"></script>

    <!-- for splashscreen -->
    <style>
        #loading {
            outline: none;
            border: none;
            background: transparent
        }
    </style>
    <script type="module">
        const loading = document.getElementById('loading');
        addEventListener('py:ready', () => loading.close());
        loading.showModal();
    </script>
{% endblock %}


{% block content %}

        <py-config>
            packages = [
                "{{ url_for('static', filename='wheels/pydux-0.2.2-py3-none-any.whl') }}",
                "requests",
                "Jinja2",
                "toolz"
            ]

            [[fetch]]
            files = [
                "{{ url_for('static', filename='files/eligibility_and_application.py') }}",
                "{{ url_for('static', filename='files/helpers.py') }}",
                "{{ url_for('static', filename='files/constants.py') }}",
                "{{ url_for('static', filename='files/actions.py') }}",
                "{{ url_for('static', filename='files/reducers.py') }}",
                "{{ url_for('static', filename='files/ui.py') }}"
            ]
        </py-config>

        <py-script>
                from static.files.eligibility_and_application import submit_button_clicked
        </py-script>

        <dialog id="loading">
            <h1>Loading...</h1>
        </dialog>


{#        <button id="new-fact-btn" type="submit" py-click="add_fact">NEW CATüê±FACT</button>#}
        <div id="root-url" style="display: none;">{{ root_url }}</div>

        <div id="wizard-container"></div>


{#        {% raw %}#}
{#        <template id="facts-template">#}
{#            <ul>#}
{#                {% for fact in cat_facts %}#}
{#                    <li>{{ fact }}</li>#}
{#                {% endfor %}#}
{#            </ul>#}
{#        </template>#}
{#        {% endraw %}#}

{% endblock %}
